// modified from https://github.com/sindresorhus/github-markdown-css

.markdown-body
  -ms-text-size-adjust 100%
  -webkit-text-size-adjust 100%
  margin 0
  // font-family -apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"
  font-size 1rem
  line-height 1.5
  word-wrap break-word

  &::before
    display table
    content ""

  &::after
    display table
    clear both
    content ""

  &>*:first-child
    margin-top 0 !important

  &>*:last-child
    margin-bottom 0 !important


  details,
  figcaption,
  figure
    display block


  summary
    display list-item


  [hidden]
    display none !important


  a
    background-color transparent
    color var(--color-accent-fg)
    text-decoration none

    &:active,
    &:hover
      outline-width 0

    &:hover
      text-decoration underline

    &:not([href])
      color inherit
      text-decoration none


  abbr[title]
    border-bottom none
    text-decoration underline dotted


  b,
  strong
    font-weight 600


  dfn
    font-style italic


  mark
    background-color var(--color-attention-subtle)
    color var(--color-text-primary)


  small
    font-size 90%


  sub,
  sup
    font-size 75%
    line-height 0
    position relative
    vertical-align baseline


  sub
    bottom -0.25em


  sup
    top -0.5em


  img
    border-style none
    max-width 100%
    box-sizing content-box
    background-color transparent

    &[align=right]
      padding-left 20px

    &[align=left]
      padding-right 20px


  code,
  kbd,
  pre,
  samp
    font-family monospace,monospace
    font-size 1em


  figure
    margin 1em 40px


  hr
    box-sizing content-box
    overflow hidden
    background transparent
    border-bottom 1px solid var(--color-border-muted)
    height .25em
    padding 0
    margin 24px 0
    background-color var(--color-border-default)
    border 0

    &::before
      display: table
      content: ""

    &::after
      display: table
      clear: both
      content: ""


  input
    font inherit
    margin 0
    overflow visible
    font-family inherit
    font-size inherit
    line-height inherit


  [type=button],
  [type=reset],
  [type=submit]
    -webkit-appearance button


  [type=button]::-moz-focus-inner,
  [type=reset]::-moz-focus-inner,
  [type=submit]::-moz-focus-inner
    border-style none
    padding 0


  [type=button]:-moz-focusring,
  [type=reset]:-moz-focusring,
  [type=submit]:-moz-focusring
    outline 1px dotted ButtonText


  [type=checkbox],
  [type=radio]
    box-sizing border-box
    padding 0


  [type=number]::-webkit-inner-spin-button,
  [type=number]::-webkit-outer-spin-button
    height auto


  [type=search]
    -webkit-appearance textfield
    outline-offset -2px


  [type=search]::-webkit-search-cancel-button,
  [type=search]::-webkit-search-decoration
    -webkit-appearance none


  ::-webkit-input-placeholder
    color inherit
    opacity .54


  ::-webkit-file-upload-button
    -webkit-appearance button
    font inherit


  .table-container
    overflow auto

    table
      border-spacing 0
      border-collapse collapse
      width 100%
      overflow auto

      th
        font-weight 600

      th,
      td
        padding 6px 13px
        border 1px solid var(--color-border-default)

      tr
        background-color var(--color-canvas-default)
        border-top 1px solid var(--color-border-muted)

    tbody tr
      &:nth-child(odd)
        background-color var(--color-canvas-subtle)

      &:hover
        background-color var(--color-canvas-hover)


  details summary
    cursor pointer


  details:not([open])>*:not(summary)
    display none !important


  kbd
    display inline-block
    padding 3px 5px
    font 11px ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace
    line-height 10px
    color var(--color-fg-default)
    vertical-align middle
    background-color var(--color-canvas-subtle)
    border solid 1px var(--color-neutral-muted)
    border-bottom-color var(--color-neutral-muted)
    border-radius 6px
    box-shadow inset 0 -1px 0 var(--color-neutral-muted)


  h1,
  h2,
  h3,
  h4,
  h5,
  h6
    margin-top 24px
    margin-bottom 16px
    font-weight 600
    line-height 1.25


  h1
    margin .67em 0
    padding-bottom .3em
    font-size 2em
    border-bottom 1px solid var(--color-border-muted)


  h2
    padding-bottom .3em
    font-size 1.5em
    border-bottom 1px solid var(--color-border-muted)


  h3
    font-size 1.25em


  h4
    font-size 1em


  h5
    font-size .875em


  h6
    font-size .85em
    color var(--color-fg-muted)


  // 给 h1 和 h2 文字增加高亮
  h1>span, h2>span
    box-shadow inset 0 -0.5em #ffeb3b
    transition box-shadow .2s ease-in-out

    +dark-mode()
      box-shadow inset 0 -0.5em rgba(58, 142, 230, 0.7)


  .header-anchor
    padding-right 0.5rem
    color var(--color-fg-muted)
    font-weight normal
    border-bottom-style none

    &, &:hover
      text-decoration none

    &:hover
      color var(--color-accent-fg)

    &::before
      content "H"
      font-size 80%

    &::after
      font-size 50%


  for i in (1 .. 6)
    h{i} .header-anchor::after
      content ('"%s"' % i)


  p
    margin-top 0
    margin-bottom 10px


  blockquote
    margin 0
    padding 0 1em
    color var(--color-fg-muted)
    border-left .25em solid var(--color-border-default)


  ul,
  ol
    margin-top 0
    margin-bottom 0
    padding-left 2em


  ol ol,
  ul ol
    list-style-type lower-roman


  ul ul ol,
  ul ol ol,
  ol ul ol,
  ol ol ol
    list-style-type lower-alpha


  dd
    margin-left 0


  tt,
  code
    font-family ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace
    font-size 12px


  pre
    margin-top 0
    margin-bottom 0
    font-family ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace
    font-size 12px
    word-wrap normal


  ::placeholder
    color var(--color-fg-subtle)
    opacity 1


  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button
    margin 0
    -webkit-appearance none
    appearance none


  [data-catalyst]
    display block


  .absent
    color var(--color-danger-fg)


  .anchor
    float left
    padding-right 4px
    margin-left -20px
    line-height 1

    &:focus
      outline none


  p,
  blockquote,
  ul,
  ol,
  dl,
  table,
  pre,
  details
    margin-top 0
    margin-bottom 16px


  blockquote>:first-child
    margin-top 0


  blockquote>:last-child
    margin-bottom 0


  h1 tt,
  h1 code,
  h2 tt,
  h2 code,
  h3 tt,
  h3 code,
  h4 tt,
  h4 code,
  h5 tt,
  h5 code,
  h6 tt,
  h6 code
    padding 0 .2em
    font-size inherit


  ul.no-list,
  ol.no-list
    padding 0
    list-style-type none


  ol[type="1"]
    list-style-type decimal


  ol[type=a]
    list-style-type lower-alpha


  ol[type=i]
    list-style-type lower-roman


  div>ol:not([type])
    list-style-type decimal


  ul ul,
  ul ol,
  ol ol,
  ol ul
    margin-top 0
    margin-bottom 0


  li>p
    margin-top 16px


  li+li
    margin-top .25em


  dl
    padding 0


  dl dt
    padding 0
    margin-top 16px
    font-size 1em
    font-style italic
    font-weight 600


  dl dd
    padding 0 16px
    margin-bottom 16px


  code,
  tt
    padding .2em .4em
    margin 0
    font-size 85%
    background-color var(--color-neutral-muted)
    border-radius 6px


  code br,
  tt br
    display none


  del code
    text-decoration inherit


  pre code
    font-size 100%


  pre>code
    padding 0
    margin 0
    word-break normal
    white-space pre
    background transparent
    border 0


  .highlight
    margin-bottom 16px


  .highlight pre
    margin-bottom 0
    word-break normal


  .highlight pre,
  pre
    padding 16px
    overflow auto
    font-size 85%
    line-height 1.45
    background-color var(--color-canvas-subtle)
    border-radius 6px


  // prismjs
  pre[class*=language-]
    position static // 这里不能设置 relative
    padding-top 30px // 给顶栏留位置
    box-shadow 0 5px 11px 0 rgba(0, 0, 0, 0.4), 0 4px 15px 0 rgba(0, 0, 0, 0.4)

    &::-webkit-scrollbar-track
      background-color transparent


  pre code,
  pre tt
    display inline
    max-width auto
    padding 0
    margin 0
    overflow visible
    line-height inherit
    word-wrap normal
    background-color transparent
    border 0


  .footnotes
    font-size 12px
    color var(--color-fg-muted)
    border-top 1px solid var(--color-border-default)

    &-sep // TODO: find a new solution
      display none

    ol
      padding-left 16px

    li
      position relative

      &:target
        color var(--color-fg-default)

        &::before
          position absolute
          top -8px
          right -8px
          bottom -8px
          left -24px
          pointer-events none
          content ""
          border 2px solid var(--color-accent-emphasis)
          border-radius 6px

    .footnote-backref
      font-family monospace


  ::-webkit-calendar-picker-indicator
    filter invert(50%)
